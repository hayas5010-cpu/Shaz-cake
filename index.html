<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shaz Cakes | Matale's Premier Bakery</title>
    
    <link rel="icon" type="image/jpg" href="assets/images/logo/IMG-20251218-WA0013.jpg">
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #2D1B14;
            --accent: #D4AF37;
            --bg: #FDFBF7;
            --ig-grad: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--primary); overflow-x: hidden; line-height: 1.6; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }

        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .hidden { display: none !important; }
        .flex { display: flex !important; }

        /* Header & Logo */
        .top-banner { background: #2D1B14; color: #D4AF37; text-align: center; padding: 8px; font-size: 11px; font-weight: 700; letter-spacing: 2px; }
        .header { position: sticky; top: 0; z-index: 100; }
        .header-container { max-width: 1200px; margin: 0 auto; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
        
        .logo { display: flex; align-items: center; gap: 12px; cursor: pointer; }
        .logo-img { width: 45px; height: 45px; object-fit: cover; border-radius: 50%; border: 2px solid #D4AF37; }
        .logo-text { font-size: 24px; font-weight: 700; color: var(--primary); }

        .header-actions { display: flex; gap: 20px; align-items: center; }
        .partner-btn { background: none; border: none; color: #b45309; font-weight: 700; cursor: pointer; font-size: 13px; text-transform: uppercase; }
        .cart-btn { background: #000; color: #fff; border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        .cart-badge { background: #f59e0b; color: #000; min-width: 22px; height: 22px; border-radius: 50%; font-size: 12px; font-weight: 900; display: flex; align-items: center; justify-content: center; }

        /* Hero */
        .hero-section { text-align: center; padding: 80px 20px 40px; }
        .hero-title { font-size: clamp(36px, 10vw, 68px); margin: 20px 0; line-height: 1.1; letter-spacing: -1px; }
        .seasonal-badge { background: #fef2f2; color: #b91c1c; padding: 6px 18px; border-radius: 20px; font-size: 12px; font-weight: 800; text-transform: uppercase; }

        /* Filter */
        .category-bar { display: flex; gap: 12px; justify-content: center; overflow-x: auto; padding: 20px 10px; scrollbar-width: none; }
        .category-bar::-webkit-scrollbar { display: none; }
        .category-bar button { padding: 10px 25px; border-radius: 30px; border: 1px solid #ddd; background: #fff; cursor: pointer; white-space: nowrap; font-weight: 600; transition: 0.3s; font-size: 14px; }
        .category-bar button.active { background: #000; color: #fff; border-color: #000; }

        /* Grid */
        .main-container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }

        .product-card { background: #fff; border-radius: 24px; overflow: hidden; border: 1px solid #eee; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; position: relative; }
        .product-card:hover { transform: translateY(-12px); box-shadow: 0 25px 40px rgba(0,0,0,0.1); }
        .product-image-wrapper { height: 320px; position: relative; width: 100%; }
        .product-image { width: 100%; height: 100%; object-fit: cover; }
        .product-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.3); opacity: 0; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .product-card:hover .product-overlay { opacity: 1; }
        .add-button { background: #fff; padding: 12px 24px; border-radius: 50px; font-weight: 800; font-size: 13px; color: #000; text-transform: uppercase; }
        .product-info { padding: 20px; }
        .product-category { font-size: 11px; font-weight: 800; color: #d97706; text-transform: uppercase; letter-spacing: 1px; }
        .product-name { font-size: 20px; margin-top: 5px; color: var(--primary); }

        /* Sidebar Tray */
        .cart-sidebar { position: fixed; right: 0; top: 0; height: 100vh; width: 100%; max-width: 420px; background: #fff; z-index: 200; box-shadow: -15px 0 40px rgba(0,0,0,0.15); display: flex; flex-direction: column; transition: 0.5s cubic-bezier(0.77, 0, 0.175, 1); }
        .translate-x-full { transform: translateX(100%); }
        .cart-header { padding: 25px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center; }
        .cart-list { flex: 1; overflow-y: auto; padding: 25px; }
        .cart-item { display: flex; gap: 18px; margin-bottom: 20px; align-items: center; background: #fdfdfd; padding: 10px; border-radius: 15px; border: 1px solid #f5f5f5; }
        .cart-item-image { width: 70px; height: 70px; border-radius: 12px; object-fit: cover; }
        .cart-item-remove { background: #fff1f1; border: none; color: #f87171; padding: 5px 10px; border-radius: 8px; font-size: 11px; font-weight: 700; cursor: pointer; }
        .cart-footer { padding: 25px; border-top: 1px solid #f0f0f0; }
        .referral-input { width: 100%; padding: 14px; border-radius: 12px; border: 2px solid #f0f0f0; margin-bottom: 15px; outline: none; }
        .checkout-btn { width: 100%; padding: 18px; border-radius: 50px; border: none; background: var(--ig-grad); color: #fff; font-weight: 700; cursor: pointer; }

        /* Modal */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 300; align-items: center; justify-content: center; padding: 20px; display: none; }
        .modal-content { background: #fff; width: 100%; max-width: 850px; border-radius: 30px; display: flex; flex-wrap: wrap; overflow: hidden; position: relative; }
        .modal-left { flex: 1; background: #2D1B14; color: #fff; padding: 50px; min-width: 320px; }
        .modal-right { flex: 1.2; padding: 50px; min-width: 320px; }
        .modal-close { position: absolute; top: 20px; right: 25px; background: #f5f5f5; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; }
        
        .calculator { background: #fdfaf5; padding: 25px; border-radius: 20px; margin: 25px 0; border: 1px solid #faead6; }
        .calc-input { width: 100%; font-size: 32px; border: none; border-bottom: 3px solid #d97706; background: none; outline: none; color: #2D1B14; }
        .result-amount { font-size: 42px; font-weight: 900; color: #d97706; display: block; }
        .apply-btn { width: 100%; padding: 18px; background: #2D1B14; color: #fff; border: none; border-radius: 15px; font-weight: 700; cursor: pointer; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        .animate-up { animation: slideUp 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }

        @media (max-width: 768px) {
            .modal-content { max-height: 90vh; overflow-y: auto; }
        }
    </style>
</head>
<body>

    <div class="top-banner">MATALE PARTNER PROGRAM: REFER & EARN 10% COMMISSION INSTANTLY</div>

    <header class="header glass">
        <div class="header-container">
            <div class="logo" onclick="location.reload()">
                <img src="assets/images/logo/IMG-20251218-WA0013.jpg" alt="Shaz Cakes Logo" class="logo-img">
                <h1 class="logo-text">Shaz Cakes</h1>
            </div>
            
            <div class="header-actions">
                <button onclick="openPartnerModal()" class="partner-btn">Affiliate Program</button>
                <button onclick="toggleCart()" class="cart-btn">
                    <span id="badge" class="cart-badge">0</span>
                    <span>Tray</span>
                </button>
            </div>
        </div>
    </header>

    <section class="hero-section">
        <div class="hero-content animate-up">
            <span class="seasonal-badge">Handcrafted in Matale</span>
            <h2 class="hero-title">Elegance in Every<br>Sweet Slice.</h2>
            <div class="category-bar" id="catBar">
                <button onclick="filterCat('All')" class="active">All Cakes</button>
                <button onclick="filterCat('Signature')">Signature</button>
                <button onclick="filterCat('Premium')">Premium</button>
                <button onclick="filterCat('Cupcakes')">Cupcakes</button>
                <button onclick="filterCat('Dessert')">Dessert</button>
            </div>
        </div>
    </section>

    <main class="main-container">
        <div id="grid" class="product-grid"></div>
    </main>

    <div id="partnerModal" class="modal-overlay">
        <div class="modal-content animate-up">
            <button onclick="closePartnerModal()" class="modal-close">✕</button>
            <div class="modal-left">
                <h3 style="font-size: 32px; margin-bottom: 10px;">Partner Program</h3>
                <p style="color: #D4AF37; font-weight: 700; margin-bottom: 30px;">Ambassador Rewards</p>
                <p>Earn 10% commission on every successful order referred by you in the Matale area.</p>
            </div>
            <div class="modal-right">
                <h4 style="font-weight: 700;">Profit Calculator</h4>
                <div class="calculator">
                    <label style="font-size: 11px; font-weight: 800; color: #999;">Order Value (Rs.)</label>
                    <input id="calcInput" oninput="calculateCommission()" type="number" placeholder="5000" class="calc-input">
                    <div style="margin-top: 20px;">
                        <label style="font-size: 11px; font-weight: 800; color: #d97706;">Your Earnings</label>
                        <span id="calcResult" class="result-amount">Rs. 0</span>
                    </div>
                </div>
                <button onclick="window.open('https://instagram.com/cake.shaz', '_blank')" class="apply-btn">Register on Instagram</button>
            </div>
        </div>
    </div>

    <div id="cart" class="cart-sidebar translate-x-full">
        <div class="cart-header"><h3>Your Tray</h3><button onclick="toggleCart()" style="background:none; border:none; font-size: 24px;">✕</button></div>
        <div id="cartList" class="cart-list"></div>
        <div id="cartFooter" class="cart-footer hidden">
            <input id="refInput" type="text" placeholder="Partner Code (Optional)" class="referral-input">
            <button onclick="checkout()" class="checkout-btn">Order on Instagram</button>
        </div>
    </div>

    <script>
        const DATA = [
            // SIGNATURE
            { id: 's1', name: 'American Butter', cat: 'Signature', img: 'assets/images/signature/american butter.jpg' },
            { id: 's2', name: 'Butter Cream', cat: 'Signature', img: 'assets/images/signature/butter cream.jpg' },
            { id: 's3', name: 'Cheese Cake', cat: 'Signature', img: 'assets/images/signature/cheese cake.jpg' },
            { id: 's4', name: 'Chocolate Cake', cat: 'Signature', img: 'assets/images/signature/chocolate cake.jpg' },
            { id: 's5', name: 'Chocolate Ganache', cat: 'Signature', img: 'assets/images/signature/chocolate ganache.jpg' },
            { id: 's6', name: 'Coffee Cake', cat: 'Signature', img: 'assets/images/signature/coffee cake.jpg' },
            { id: 's7', name: 'Gello Cake', cat: 'Signature', img: 'assets/images/signature/gello cake.jpg' },
            { id: 's8', name: 'Lamington', cat: 'Signature', img: 'assets/images/signature/lamington.jpg' },
            { id: 's9', name: 'Pineapple', cat: 'Signature', img: 'assets/images/signature/pineapple.jpg' },
            { id: 's10', name: 'Plum Cake', cat: 'Signature', img: 'assets/images/signature/plum cake.jpg' },
            { id: 's11', name: 'Red Velvet', cat: 'Signature', img: 'assets/images/signature/red velvet.jpg' },
            { id: 's12', name: 'Rich Date Cake', cat: 'Signature', img: 'assets/images/signature/rich date cake.jpg' },

            // PREMIUM
            { id: 'p1', name: 'Aesthetic Cake', cat: 'Premium', img: 'assets/images/premium cake/aesthetic cake.jpg' },
            { id: 'p2', name: 'Special Design (3D)', cat: 'Premium', img: 'assets/images/premium cake/d.jpg' },
            { id: 'p3', name: 'Fondant Cake', cat: 'Premium', img: 'assets/images/premium cake/fondant cake.jpg' },
            { id: 'p4', name: 'Gravity Cake', cat: 'Premium', img: 'assets/images/premium cake/gravity cake.jpg' },
            { id: 'p5', name: 'Black Forest', cat: 'Premium', img: 'assets/images/premium cake/black forest.jpg' },
            { id: 'p6', name: 'Marble Cake', cat: 'Premium', img: 'assets/images/premium cake/marble cake.jpg' },
            { id: 'p7', name: 'Wedding Cake', cat: 'Premium', img: 'assets/images/premium cake/wedding cake.jpg' },

            // CUPCAKES
            { id: 'c1', name: 'Chocolate Cup Cake', cat: 'Cupcakes', img: 'assets/images/cup cakes/chocolate cup cake.jpg' },
            { id: 'c2', name: 'Chocolate Muffin', cat: 'Cupcakes', img: 'assets/images/cup cakes/chocolate muffin.jpg' },
            { id: 'c3', name: 'Customized Mini Cake', cat: 'Cupcakes', img: 'assets/images/cup cakes/customized mini cake.jpg' },
            { id: 'c4', name: 'Fudge Brownie', cat: 'Cupcakes', img: 'assets/images/cup cakes/fudge brownie.jpg' },
            { id: 'c5', name: 'Red Velvet Cup', cat: 'Cupcakes', img: 'assets/images/cup cakes/red velvet cup.jpg' },
            { id: 'c6', name: 'Vanilla Cup Cake', cat: 'Cupcakes', img: 'assets/images/cup cakes/vanila cup cake.jpg' },
            { id: 'c7', name: 'Vanilla Muffin', cat: 'Cupcakes', img: 'assets/images/cup cakes/vanila muffin.jpg' },

            // DESSERT
            { id: 'd1', name: 'Blondie', cat: 'Dessert', img: 'assets/images/Dessert/blondie.jpg' },
            { id: 'd2', name: 'Brownie Cake', cat: 'Dessert', img: 'assets/images/Dessert/brownie cake.jpg' },
            { id: 'd3', name: 'Classic Brownie', cat: 'Dessert', img: 'assets/images/Dessert/brownie.jpg' },
            { id: 'd4', name: 'Lava Cake', cat: 'Dessert', img: 'assets/images/Dessert/lava cake.jpg' },
            { id: 'd5', name: 'Nutella Brownie', cat: 'Dessert', img: 'assets/images/Dessert/nutella brownie.jpg' },
            { id: 'd6', name: 'White Chocolate Brownie', cat: 'Dessert', img: 'assets/images/Dessert/white chocolate brownie.jpg' }
        ];

        let tray = [];

        function init() { renderProducts(DATA); }

        function renderProducts(products) {
            const grid = document.getElementById('grid');
            grid.innerHTML = products.map(p => `
                <div class="product-card" onclick="addToTray('${p.id}')">
                    <div class="product-image-wrapper">
                        <img src="${p.img}" class="product-image" alt="${p.name}" onerror="this.src='https://via.placeholder.com/400x400?text=Image+Missing'">
                        <div class="product-overlay"><span class="add-button">Add to Tray</span></div>
                    </div>
                    <div class="product-info">
                        <span class="product-category">${p.cat}</span>
                        <h4 class="product-name">${p.name}</h4>
                    </div>
                </div>
            `).join('');
        }

        function filterCat(cat) {
            document.querySelectorAll('.category-bar button').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderProducts(cat === 'All' ? DATA : DATA.filter(p => p.cat === cat));
        }

        function addToTray(id) {
            const item = DATA.find(p => p.id === id);
            tray.push({ ...item, trayId: Date.now() });
            updateTrayUI();
            document.getElementById('cart').classList.remove('translate-x-full');
        }

        function toggleCart() { document.getElementById('cart').classList.toggle('translate-x-full'); }

        function remove(trayId) {
            tray = tray.filter(item => item.trayId !== trayId);
            updateTrayUI();
        }

        function updateTrayUI() {
            const list = document.getElementById('cartList');
            const footer = document.getElementById('cartFooter');
            const badge = document.getElementById('badge');
            badge.innerText = tray.length;

            if (tray.length === 0) {
                list.innerHTML = `<p style="text-align:center; padding: 40px; color: #ccc;">Tray is empty</p>`;
                footer.classList.add('hidden');
            } else {
                footer.classList.remove('hidden');
                list.innerHTML = tray.map(item => `
                    <div class="cart-item">
                        <img src="${item.img}" class="cart-item-image">
                        <div style="flex:1"><h5>${item.name}</h5><small>${item.cat}</small></div>
                        <button onclick="remove(${item.trayId})" class="cart-item-remove">Remove</button>
                    </div>
                `).join('');
            }
        }

        function calculateCommission() {
            const val = document.getElementById('calcInput').value;
            document.getElementById('calcResult').innerText = `Rs. ${Math.floor(val * 0.1)}`;
        }

        function openPartnerModal() { document.getElementById('partnerModal').style.display = 'flex'; }
        function closePartnerModal() { document.getElementById('partnerModal').style.display = 'none'; }

        function checkout() {
            const code = document.getElementById('refInput').value || 'NO CODE';
            let msg = `Order from Matale Website:\n` + tray.map((it, i) => `${i+1}. ${it.name}`).join('\n') + `\n\nCode: ${code}`;
            navigator.clipboard.writeText(msg).then(() => {
                alert("Order copied! Paste it in our Instagram DM.");
                window.open('https://instagram.com/cake.shaz', '_blank');
            });
        }

        window.onload = init;
    </script>
</body>
</html>